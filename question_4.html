<!DOCTYPE HTML>
<html>

<head>
	<title>Document</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body style = "text-align:center;" id = "body">
	
	<p id = "dataFrom" style =
		"font-size: 15px; font-weight: bold;">
	</p>

	
	<button onclick = "constructTable('#table')">
		click here
	</button>
	
	<br><br>
	
	<table align = "center"
			id="table" border="1">
	</table>
	
	<script>
		var el_up = document.getElementById("dataFrom");
		
		var list = [
        {
        "first_name": "Amit",
        "last_name": "Sharma",
        "department": "SEO"
        },
        {
        "first_name": "Vineet",
        "last_name": "Kumar",
        "department": "Accounts"
        },
        {
        "first_name": "Ajay",
        "last_name": "Thakur",
        "department": "QA"
        },
        {
        "first_name": "Chandra",
        "last_name": "Sharma",
        "department": "Designer"
        }

		];
		
		el_up.innerHTML = "Click on the button to create "
				+ "the table from the JSON data.<br><br>"
				+ JSON.stringify(list[0]) + "<br>"
				+ JSON.stringify(list[1]) + "<br>"
				+ JSON.stringify(list[2]);
			
		function constructTable(selector) {
			var cols = Headers(list, selector);
			for (var i = 0; i < list.length; i++) {
				var row = $('<tr/>');
				for (var colIndex = 0; colIndex < cols.length; colIndex++)
				{
					var val = list[i][cols[colIndex]];
					if (val == null) val = "";
						row.append($('<td/>').html(val));
				}
				$(selector).append(row);
			}
		}
		
		function Headers(list, selector) {
			var columns = [];
			var header = $('<tr/>');
			
			for (var i = 0; i < list.length; i++) {
				var row = list[i];
				
				for (var k in row) {
					if ($.inArray(k, columns) == -1) {
						columns.push(k);
						header.append($('<th/>').html(k));
					}
				}
			}
			$(selector).append(header);
				return columns;
		}	
	</script>
</body>

</html>
